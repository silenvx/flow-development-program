# Evaluation作成ガイド

Skillの品質を担保するための評価（Evaluation）作成手順。

**原則**: コードを書く前に評価基準を定義する（Evaluation first）。

---

## Evaluationレベル

| レベル | 内容 | 必須度 | 想定時間 |
|--------|------|--------|----------|
| Level 1 | チェックリスト | **必須** | 5分 |
| Level 2 | 入力/出力ペア | 推奨 | 15分 |
| Level 3 | モデル別テスト | 理想 | 30分〜 |

---

## Level 1: チェックリスト（必須）

最小限の評価。全てのSkillで必須。

### テンプレート

```markdown
## Evaluation: [Skill名]

### 期待する動作
- [ ] [ユーザーが「〜」と言ったら、〜を実行する]
- [ ] [〜の場合、〜を提示する]
- [ ] [〜のエラー時、〜を表示する]
```

### 例: authoring-skills

```markdown
## Evaluation: authoring-skills

### 期待する動作
- [ ] 「新しいSkillを作成したい」→ Skill作成フローを開始
- [ ] 「SKILL.mdが500行を超えた」→ 分割ガイドを提示
- [ ] 「descriptionの書き方は？」→ 第三者視点の例を表示
- [ ] 「nameの制約は？」→ 64文字以内、小文字・数字・ハイフンと回答
```

---

## Level 2: 入力/出力ペア（推奨）

具体的な入力と期待する出力のペアを定義。

### テンプレート

```markdown
## Evaluation: [Skill名]

### 入力/出力ペア

| 入力 | 期待する出力 |
|------|-------------|
| [具体的なユーザー入力1] | [期待する応答/アクション1] |
| [具体的なユーザー入力2] | [期待する応答/アクション2] |
| [具体的なユーザー入力3] | [期待する応答/アクション3] |

### エッジケース

| 入力 | 期待する出力 |
|------|-------------|
| [境界条件の入力] | [適切なエラー/警告] |
```

### 例: authoring-skills

```markdown
## Evaluation: authoring-skills

### 入力/出力ペア

| 入力 | 期待する出力 |
|------|-------------|
| 「新しいSkillを作成したい」 | Skill作成フローを開始、テンプレートをコピーする手順を提示 |
| 「このSkillは500行を超えている」 | 分割ガイドを提示、具体的な分割パターンを提案 |
| 「descriptionの書き方は？」 | 第三者視点の例を表示、「what」+「when to use」形式を説明 |

### エッジケース

| 入力 | 期待する出力 |
|------|-------------|
| 「nameに'claude'を含めたい」 | 禁止事項として警告 |
| 「1500行のSKILL.mdを作成した」 | 分割必須として警告、分割提案を表示 |
```

---

## Level 3: モデル別テスト（理想）

複数モデルでテストし、結果を記録。

### テンプレート

```markdown
## Evaluation: [Skill名]

### テストケース

1. **基本ケース**: [標準的な使用シナリオ]
2. **エッジケース**: [境界条件のシナリオ]
3. **失敗ケース**: [意図的に失敗させるシナリオ]

### 評価結果

| モデル | 基本 | エッジ | 失敗 | 備考 |
|--------|------|--------|------|------|
| Haiku 3.5 | ✅/❌ | ✅/❌ | ✅/❌ | [観察事項] |
| Sonnet 4 | ✅/❌ | ✅/❌ | ✅/❌ | [観察事項] |
| Opus 4.5 | ✅/❌ | ✅/❌ | ✅/❌ | [観察事項] |

### 改善点
- [テストで発見した問題]
- [次イテレーションで対応する項目]
```

---

## 評価プロンプト（LLMによる評価）

Skillの出力を自動評価するためのメタプロンプト:

```text
以下の出力が、期待する動作を満たしているか判定してください。

## 期待する動作
[Level 1のチェックリストを挿入]

## 実際の出力
[Skillの出力を挿入]

## 判定
各項目について「✅ 満たしている」「❌ 満たしていない」「⚠️ 部分的に満たしている」で判定し、理由を簡潔に説明してください。
```

---

## Evaluation作成のコツ

1. **具体的に書く**: 「正しく動作する」ではなく「〜の場合に〜を返す」
2. **エッジケースを含める**: 空入力、長大入力、不正入力
3. **失敗ケースを含める**: 意図的に失敗させ、適切なエラーが出るか確認
4. **観察可能な動作を定義**: 内部状態ではなく、外から見える動作を定義
