{
  "plansDirectory": ".claude/plans",
  "statusLine": {
    "type": "command",
    "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/scripts/statusline.ts"
  },
  "permissions": {
    "allow": ["Edit", "Write"],
    "deny": ["Bash(git commit --no-verify:*)", "Bash(git push --no-verify:*)"]
  },
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/environment_integrity_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/git_config_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/flow_state_updater.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/date_context_injector.ts"
          },
          {
            "type": "command",
            "command": "\"$CLAUDE_PROJECT_DIR\"/scripts/check-lefthook.sh"
          },
          {
            "type": "command",
            "command": "\"$CLAUDE_PROJECT_DIR\"/scripts/check-ts-hooks-deps.sh"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/session_handoff_reader.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/session_resume_warning.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/session_file_state_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/session_worktree_status.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/branch_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/main_sync_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/hook_dev_warning.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/continuation_session_metrics.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/session_marker_updater.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/worktree_commit_integrity_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/session_issue_integrity_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/fork_session_collaboration_advisor.ts"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/open_pr_warning.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/observation_session_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/fork_session_id_updater.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/feedback_detector.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/immediate_pending_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_creation_detector.ts"
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/flow_state_updater.ts"
          }
        ]
      },
      {
        "matcher": "mcp__chrome-devtools__navigate_page|mcp__chrome-devtools__new_page",
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/production_url_warning.ts"
          }
        ]
      },
      {
        "matcher": "Skill",
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/reflection_log_collector.ts"
          }
        ]
      },
      {
        "matcher": "AskUserQuestion",
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/merit_demerit_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/closed_issue_in_options_check.ts"
          }
        ]
      },
      {
        "matcher": "ExitPlanMode",
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/plan_ai_review_iterative.ts"
          }
        ]
      },
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/python_hook_guard.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/new_python_hook_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/worktree_session_guard.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/task_start_checklist.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/worktree_warning.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/empty_return_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/similar_code_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/security_bypass_test_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/hook_return_format_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/doc_edit_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/reference_comment_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/parallel_edit_conflict_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_existence_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/env_undefined_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_first_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/fork_session_pr_guard.ts"
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/task_start_checklist.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_branch_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/dependency_check_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/open_issue_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/orphan_worktree_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/merged_worktree_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/worktree_resume_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/active_worktree_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/migration_bug_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/merge_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/locked_worktree_guard.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/recurring_problem_block.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/reviewer_removal_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/ci_wait_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/ci_monitor_session_id_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/dependabot_skill_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/skill_usage_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/skip_review_env_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/codex_review_logger.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/codex_review_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/gemini_review_logger.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/gemini_review_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/review_response_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/ai_review_followup_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/pr_scope_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/multi_issue_guard.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/closes_keyword_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/closes_scope_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/pr_test_coverage_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/subprocess_lint_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/hook_change_detector.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/hooks_design_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/ui_check_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_auto_assign.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/existing_impl_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/pr_issue_assign_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/pr_overlap_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/e2e_test_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/force_push_guard.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/closes_validation.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_label_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_priority_label_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_body_requirements_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_scope_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_multi_problem_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/worktree_path_guard.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/worktree_removal_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/worktree_main_freshness_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/checkout_block.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/commit_amend_block.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/branch_rename_guard.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_comments_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/pr_issue_alignment_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/research_requirement_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/planning_enforcement.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_incomplete_close_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/systematization_issue_close_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_review_response_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/resolve_thread_guard.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/file_overwrite_warning.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_reference_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/bug_issue_creation_guard.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/followup_issue_guard.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/api_operation_timer.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/acceptance_criteria_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_requirements_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_investigation_tracker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/pr_related_issue_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/duplicate_issue_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/duplicate_pr_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/uv_run_guard.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/workflow_skill_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/pr_body_quality_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/pr_defer_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/merge_commit_quality_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/coderabbit_review_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/code_simplifier_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/fork_session_pr_guard.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/reply_resolve_enforcer.ts"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/flow_state_updater.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/session_marker_refresh.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/code_simplifier_logger.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/script_error_ignore_warning.ts"
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/worktree_creation_marker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/secret_deploy_trigger.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/e2e_test_recorder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/bash_failure_tracker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/bypass_detector.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/doc_reference_warning.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/pr_metrics_collector.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/ci_recovery_tracker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/tool_efficiency_tracker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/git_operations_tracker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_creation_tracker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_ai_review.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/phase_issue_auto_continuation.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/development_workflow_tracker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/reflection_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/post_merge_reflection_enforcer.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/merge_result_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/review_comment_action_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/worktree_auto_cleanup.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/worktree_auto_setup.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/plan_file_updater.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/pr_merge_pull_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/post_merge_flow_completion.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/post_merge_observation_issue.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/observation_auto_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/observation_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/copilot_review_retry_suggestion.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/codex_review_output_logger.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/commit_marker_update.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/flow_progress_tracker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/reflection_progress_tracker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/api_operation_logger.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/review_promise_tracker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/tool_substitution_detector.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/similar_pattern_search.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/block_improvement_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/abstract_issue_suggester.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/reply_resolve_enforcer.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/rule_enforcement_check.ts"
          }
        ]
      },
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/dogfooding_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/scope_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/rule_consistency_check.ts"
          }
        ]
      },
      {
        "matcher": "Edit",
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/rework_tracker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/rule_consistency_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/tool_efficiency_tracker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/script_test_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/dogfooding_reminder.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/regex_pattern_reminder.ts"
          }
        ]
      },
      {
        "matcher": "Read|Glob|Grep",
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/tool_efficiency_tracker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/exploration_tracker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/observation_auto_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/file_size_warning.ts"
          }
        ]
      },
      {
        "matcher": "WebSearch|WebFetch",
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/research_tracker.ts"
          }
        ]
      },
      {
        "matcher": "Skill",
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/skill_failure_detector.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/doc_implementation_mismatch_detector.ts"
          }
        ]
      },
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/doc_implementation_mismatch_detector.ts"
          }
        ]
      },
      {
        "matcher": "ExitPlanMode",
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/plan_ai_review.ts"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/flow_state_updater.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/flow_verifier.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/stop_auto_review.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/block_response_tracker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/bypass_analysis.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/askuser_suggestion.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/defer_keyword_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/merge_confirmation_warning.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/hook_effectiveness_evaluator.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/hook_behavior_evaluator.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/session_metrics_collector.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/session_outcome_collector.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/log_health_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/session_handoff_writer.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/secret_deploy_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/cwd_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/git_status_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/related_task_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/problem_report_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/user_feedback_systematization_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/systematization_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/flow_effect_verifier.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/worktree_cleanup_suggester.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/session_end_worktree_cleanup.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/session_log_compressor.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/session_end_main_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/reflection_completion_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/reflection_quality_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/reflection_self_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/issue_creation_request_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/lesson_issue_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/vague_action_block.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/immediate_action_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/review_promise_tracker.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/session_todo_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/false_positive_detector.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/plan_checklist_guard.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/plan_mode_exit_check.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/phase_progression_guard.ts"
          },
          {
            "type": "command",
            "command": "bun run \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/handlers/conservative_behavior_check.ts"
          },
          {
            "type": "prompt",
            "prompt": "Evaluate whether the session can stop based on these criteria. The context is: $ARGUMENTS\n\nIf the context contains stop_hook_active set to true, APPROVE to prevent infinite loops.\n\nOtherwise, evaluate using the Five Reflections (五省):\n1. Requirements: Were user requirements correctly understood and addressed?\n2. Quality: Is the implementation complete and of good quality?\n3. Verification: Was the work verified (build/test/lint if applicable)?\n4. Responsiveness: Were all review comments or user feedback addressed?\n5. Efficiency: Was work done efficiently?\n\nCRITICAL checks - block if any fail:\n- If bugs were INTRODUCED by this PR's code changes, they must be fixed in the same PR. Creating a separate Issue for bugs you introduced is NOT acceptable.\n- If PRE-EXISTING bugs were DISCOVERED during the work (in code NOT modified by this PR), creating a separate Issue IS acceptable and correct.\n- If lessons were learned or mistakes corrected, enforcement mechanisms (hooks/CI/tools) must have been created. Documentation alone is insufficient. Include in the reason: [IMMEDIATE: /reflecting-sessions]\n\nApprove if the main task is substantially complete and critical checks pass. Do not block for minor improvements or nice-to-haves. Be specific about what needs to be done if blocking.",
            "timeout": 45
          }
        ]
      }
    ]
  }
}
